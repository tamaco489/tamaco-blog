/v1/categories:
  get:
    tags:
      - categories
    summary: カテゴリ一覧取得
    description: すべてのカテゴリの一覧を取得します。
    operationId: getCategories
    responses:
      "200":
        description: カテゴリ一覧の取得に成功
        content:
          application/json:
            schema:
              $ref: "../responses/CategoryList.yaml"
      "500":
        description: サーバー内部エラー
        content:
          application/json:
            schema:
              $ref: "../responses/InternalServerError.yaml"
    security: []

  post:
    tags:
      - categories
    summary: カテゴリ作成
    description: 新しいカテゴリを作成します。認証が必要です。
    operationId: createCategory
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../requests/CategoryCreate.yaml"
    responses:
      "201":
        description: カテゴリの作成に成功
        content:
          application/json:
            schema:
              $ref: "../schemas/Category.yaml"
      "400":
        description: リクエストパラメータが不正
        content:
          application/json:
            schema:
              $ref: "../responses/BadRequest.yaml"
      "401":
        description: 認証が必要
        content:
          application/json:
            schema:
              $ref: "../responses/Unauthorized.yaml"
      "409":
        description: 同じIDのカテゴリが既に存在
        content:
          application/json:
            schema:
              $ref: "../responses/AlreadyExists.yaml"
      "500":
        description: サーバー内部エラー
        content:
          application/json:
            schema:
              $ref: "../responses/InternalServerError.yaml"

/v1/categories/{category_id}:
  get:
    tags:
      - categories
    summary: カテゴリ詳細取得
    description: カテゴリIDを指定してカテゴリの詳細を取得します。
    operationId: getCategoryByID
    parameters:
      - name: category_id
        in: path
        required: true
        description: カテゴリID
        schema:
          type: string
          example: "technology"
    responses:
      "200":
        description: カテゴリ詳細の取得に成功
        content:
          application/json:
            schema:
              $ref: "../schemas/Category.yaml"
      "404":
        description: カテゴリが見つからない
        content:
          application/json:
            schema:
              $ref: "../responses/NotFound.yaml"
      "500":
        description: サーバー内部エラー
        content:
          application/json:
            schema:
              $ref: "../responses/InternalServerError.yaml"
    security: []

  put:
    tags:
      - categories
    summary: カテゴリ更新
    description: カテゴリIDを指定してカテゴリを更新します。認証が必要です。
    operationId: updateCategoryByID
    parameters:
      - name: category_id
        in: path
        required: true
        description: カテゴリID
        schema:
          type: string
          example: "technology"
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../requests/CategoryUpdate.yaml"
    responses:
      "200":
        description: カテゴリの更新に成功
        content:
          application/json:
            schema:
              $ref: "../schemas/Category.yaml"
      "400":
        description: リクエストパラメータが不正
        content:
          application/json:
            schema:
              $ref: "../responses/BadRequest.yaml"
      "401":
        description: 認証が必要
        content:
          application/json:
            schema:
              $ref: "../responses/Unauthorized.yaml"
      "404":
        description: カテゴリが見つからない
        content:
          application/json:
            schema:
              $ref: "../responses/NotFound.yaml"
      "409":
        description: 同じIDのカテゴリが既に存在
        content:
          application/json:
            schema:
              $ref: "../responses/AlreadyExists.yaml"
      "500":
        description: サーバー内部エラー
        content:
          application/json:
            schema:
              $ref: "../responses/InternalServerError.yaml"

  delete:
    tags:
      - categories
    summary: カテゴリ削除
    description: カテゴリIDを指定してカテゴリを削除します。認証が必要です。
    operationId: deleteCategoryByID
    parameters:
      - name: category_id
        in: path
        required: true
        description: カテゴリID
        schema:
          type: string
          example: "technology"
    responses:
      "204":
        description: カテゴリの削除に成功
      "401":
        description: 認証が必要
        content:
          application/json:
            schema:
              $ref: "../responses/Unauthorized.yaml"
      "404":
        description: カテゴリが見つからない
        content:
          application/json:
            schema:
              $ref: "../responses/NotFound.yaml"
      "500":
        description: サーバー内部エラー
        content:
          application/json:
            schema:
              $ref: "../responses/InternalServerError.yaml"

/v1/categories/{category_id}/articles:
  get:
    tags:
      - categories
    summary: カテゴリ別記事一覧取得
    description: 指定されたカテゴリの記事一覧を取得します。
    operationId: getArticlesByCategoryID
    parameters:
      - name: category_id
        in: path
        required: true
        description: カテゴリID
        schema:
          type: string
          example: "technology"
      - $ref: "../parameters/pagination.yaml#/PageParam"
      - $ref: "../parameters/pagination.yaml#/PageSizeParam"
      - $ref: "../parameters/pagination.yaml#/SortParam"
      - $ref: "../parameters/pagination.yaml#/OrderParam"
    responses:
      "200":
        description: カテゴリ別記事一覧の取得に成功
        content:
          application/json:
            schema:
              $ref: "../responses/ArticleList.yaml"
      "404":
        description: カテゴリが見つからない
        content:
          application/json:
            schema:
              $ref: "../responses/NotFound.yaml"
      "500":
        description: サーバー内部エラー
        content:
          application/json:
            schema:
              $ref: "../responses/InternalServerError.yaml"
    security: []
